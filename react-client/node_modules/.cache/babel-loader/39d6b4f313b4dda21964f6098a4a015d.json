{"ast":null,"code":"import _classCallCheck from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{getHeaders}from'../utils.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddComment=/*#__PURE__*/function(_React$Component){_inherits(AddComment,_React$Component);var _super=_createSuper(AddComment);function AddComment(props){var _this;_classCallCheck(this,AddComment);_this=_super.call(this,props);_this.state={value:\"\"};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.postComment=_this.postComment.bind(_assertThisInitialized(_this));_this.formRef=/*#__PURE__*/React.createRef();return _this;}_createClass(AddComment,[{key:\"handleChange\",value:function handleChange(event){this.setState({value:event.target.value});}},{key:\"postComment\",value:function postComment(event){var _this2=this;event.preventDefault();var postData={\"post_id\":this.props.postId,\"text\":this.state.value};fetch(\"/api/comments/\",{method:\"POST\",headers:getHeaders(),body:JSON.stringify(postData)}).then(function(response){return response.json();}).then(function(data){console.log(data);_this2.props.requeryPost();});this.formRef.current.focus();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"form\",{className:\"add-comment\",onSubmit:this.postComment,children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-holder\",children:/*#__PURE__*/_jsx(\"input\",{className:\"comment-textbox\",\"aria-label\":\"Add a comment\",placeholder:\"Add a comment...\",onChange:this.handleChange,ref:this.formRef})}),/*#__PURE__*/_jsx(\"button\",{className:\"link\",type:\"submit\",onClick:this.postComment,children:\"Post\"})]});}}]);return AddComment;}(React.Component);export default AddComment;","map":{"version":3,"sources":["/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/src/components/AddComment.js"],"names":["React","getHeaders","AddComment","props","state","value","handleChange","bind","postComment","formRef","createRef","event","setState","target","preventDefault","postData","postId","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","requeryPost","current","focus","Component"],"mappings":"0tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,aAA3B,C,2FAEMC,CAAAA,U,oHACF,oBAAYC,KAAZ,CAAkB,4CACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAC,EADG,CAAb,CAGA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CACA,MAAKE,OAAL,cAAeT,KAAK,CAACU,SAAN,EAAf,CAPc,aAQjB,C,mDAED,sBAAaC,KAAb,CAAoB,CAChB,KAAKC,QAAL,CAAc,CACVP,KAAK,CAAEM,KAAK,CAACE,MAAN,CAAaR,KADV,CAAd,EAGH,C,2BAED,qBAAYM,KAAZ,CAAmB,iBACfA,KAAK,CAACG,cAAN,GACA,GAAMC,CAAAA,QAAQ,CAAG,CACb,UAAW,KAAKZ,KAAL,CAAWa,MADT,CAEb,OAAQ,KAAKZ,KAAL,CAAWC,KAFN,CAAjB,CAIAY,KAAK,kBAAmB,CACpBC,MAAM,CAAE,MADY,CAEpBC,OAAO,CAAElB,UAAU,EAFC,CAGpBmB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,QAAf,CAHc,CAAnB,CAAL,CAKCQ,IALD,CAKM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EALd,EAMCF,IAND,CAMM,SAAAG,IAAI,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAACvB,KAAL,CAAW0B,WAAX,GACH,CATD,EAWA,KAAKpB,OAAL,CAAaqB,OAAb,CAAqBC,KAArB,GACH,C,sBAED,iBAAU,CAEN,mBACI,cAAM,SAAS,CAAC,aAAhB,CAA8B,QAAQ,CAAE,KAAKvB,WAA7C,wBACI,YAAK,SAAS,CAAC,cAAf,uBACI,cAAO,SAAS,CAAC,iBAAjB,CACI,aAAW,eADf,CAEI,WAAW,CAAC,kBAFhB,CAGI,QAAQ,CAAE,KAAKF,YAHnB,CAII,GAAG,CAAE,KAAKG,OAJd,EADJ,EADJ,cASI,eAAQ,SAAS,CAAC,MAAlB,CACI,IAAI,CAAC,QADT,CAEI,OAAO,CAAE,KAAKD,WAFlB,kBATJ,GADJ,CAiBH,C,wBAxDoBR,KAAK,CAACgC,S,EA2D/B,cAAe9B,CAAAA,UAAf","sourcesContent":["import React from 'react';\nimport { getHeaders } from '../utils.js';\n\nclass AddComment extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            value:\"\"\n        }\n        this.handleChange = this.handleChange.bind(this)\n        this.postComment = this.postComment.bind(this)\n        this.formRef = React.createRef()\n    }\n\n    handleChange(event) {\n        this.setState({\n            value: event.target.value\n        })\n    }\n\n    postComment(event) {\n        event.preventDefault()\n        const postData = {\n            \"post_id\": this.props.postId,\n            \"text\": this.state.value\n        }\n        fetch(`/api/comments/`, {\n            method: \"POST\",\n            headers: getHeaders(),\n            body: JSON.stringify(postData)\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data)\n            this.props.requeryPost()\n        })\n        \n        this.formRef.current.focus()\n    }\n\n    render () {\n        \n        return (\n            <form className='add-comment' onSubmit={this.postComment}>\n                <div className='input-holder'>\n                    <input className='comment-textbox'\n                        aria-label='Add a comment'\n                        placeholder='Add a comment...'\n                        onChange={this.handleChange}\n                        ref={this.formRef}>\n                    </input>\n                </div>\n                <button className='link'\n                    type=\"submit\"\n                    onClick={this.postComment}>\n                    Post\n                </button>\n            </form>\n        )\n    }\n}\n\nexport default AddComment"]},"metadata":{},"sourceType":"module"}