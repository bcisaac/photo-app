{"ast":null,"code":"import _classCallCheck from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{getHeaders}from'../utils.js';import{jsx as _jsx}from\"react/jsx-runtime\";var Bookmark=/*#__PURE__*/function(_React$Component){_inherits(Bookmark,_React$Component);var _super=_createSuper(Bookmark);function Bookmark(props){var _this;_classCallCheck(this,Bookmark);_this=_super.call(this,props);_this.toggleBookmark=_this.toggleBookmark.bind(_assertThisInitialized(_this));_this.bookmarkPost=_this.bookmarkPost.bind(_assertThisInitialized(_this));_this.unBookmarkPost=_this.unBookmarkPost.bind(_assertThisInitialized(_this));return _this;}// componentDidMount() {\n//   console.log('Invoked immediately')\n// }\n_createClass(Bookmark,[{key:\"bookmarkPost\",value:function bookmarkPost(){var _this2=this;var postData={\"post_id\":this.props.postId};fetch(\"/api/bookmarks/\",{method:\"POST\",headers:getHeaders(),body:JSON.stringify(postData)}).then(function(response){return response.json();}).then(function(data){console.log(data);_this2.props.requeryPost();});}},{key:\"unBookmarkPost\",value:function unBookmarkPost(){var _this3=this;var deleteURL=\"/api/bookmarks/\".concat(this.props.bookmarkId);fetch(deleteURL,{method:\"DELETE\",headers:getHeaders()}).then(function(response){return response.json();}).then(function(data){console.log(data);_this3.props.requeryPost();});}},{key:\"toggleBookmark\",value:function toggleBookmark(){console.log('button-clicked');if(this.props.bookmarkId){// issue post request\nthis.unBookmarkPost();}else{// issue delete request\nthis.bookmarkPost();}}},{key:\"render\",value:function render(){var bookmarkId=this.props.bookmarkId;return/*#__PURE__*/_jsx(\"button\",{onClick:this.toggleBookmark,\"aria-checked\":bookmarkId?true:false,role:\"switch\",label:\"Bookmark\",className:\"bookmark\",children:/*#__PURE__*/_jsx(\"i\",{className:bookmarkId?'fas fa-bookmark':'far fa-bookmark'})});}}]);return Bookmark;}(React.Component);export default Bookmark;","map":{"version":3,"sources":["/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/src/components/Bookmark.js"],"names":["React","getHeaders","Bookmark","props","toggleBookmark","bind","bookmarkPost","unBookmarkPost","postData","postId","fetch","method","headers","body","JSON","stringify","then","response","json","data","console","log","requeryPost","deleteURL","bookmarkId","Component"],"mappings":"0tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,aAAzB,C,8CAEMC,CAAAA,Q,gHACF,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA,MAAKE,cAAL,CAAsB,MAAKA,cAAL,CAAoBF,IAApB,+BAAtB,CAJc,aAKjB,CAED;AACA;AACA;iDAEA,uBAAe,iBACX,GAAMG,CAAAA,QAAQ,CAAG,CACb,UAAW,KAAKL,KAAL,CAAWM,MADT,CAAjB,CAGAC,KAAK,mBAAoB,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAEX,UAAU,EAFE,CAGrBY,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeP,QAAf,CAHe,CAApB,CAAL,CAKCQ,IALD,CAKM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EALd,EAMCF,IAND,CAMM,SAAAG,IAAI,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAAChB,KAAL,CAAWmB,WAAX,GACH,CATD,EAUH,C,8BAED,yBAAiB,iBACb,GAAMC,CAAAA,SAAS,0BAAqB,KAAKpB,KAAL,CAAWqB,UAAhC,CAAf,CAEAd,KAAK,CAACa,SAAD,CAAY,CACbZ,MAAM,CAAE,QADK,CAEbC,OAAO,CAAEX,UAAU,EAFN,CAAZ,CAAL,CAICe,IAJD,CAIM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAJd,EAKCF,IALD,CAKM,SAAAG,IAAI,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAAChB,KAAL,CAAWmB,WAAX,GACH,CARD,EASH,C,8BAED,yBAAiB,CACbF,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAEA,GAAI,KAAKlB,KAAL,CAAWqB,UAAf,CAA2B,CACvB;AACA,KAAKjB,cAAL,GACH,CAHD,IAGO,CACH;AACA,KAAKD,YAAL,GACH,CACJ,C,sBAED,iBAAU,CACN,GAAMkB,CAAAA,UAAU,CAAG,KAAKrB,KAAL,CAAWqB,UAA9B,CACA,mBACA,eACI,OAAO,CAAE,KAAKpB,cADlB,CAEI,eAAcoB,UAAU,CAAG,IAAH,CAAU,KAFtC,CAGI,IAAI,CAAC,QAHT,CAII,KAAK,CAAC,UAJV,CAKI,SAAS,CAAC,UALd,uBAMI,UAAG,SAAS,CAAEA,UAAU,CAAG,iBAAH,CAAuB,iBAA/C,EANJ,EADA,CAUH,C,sBAlEkBxB,KAAK,CAACyB,S,EAqE7B,cAAevB,CAAAA,QAAf","sourcesContent":["import React from 'react';\nimport {getHeaders} from '../utils.js'\n\nclass Bookmark extends React.Component { \n    constructor(props){\n        super(props)\n        this.toggleBookmark = this.toggleBookmark.bind(this)\n        this.bookmarkPost = this.bookmarkPost.bind(this)\n        this.unBookmarkPost = this.unBookmarkPost.bind(this)\n    }\n\n    // componentDidMount() {\n    //   console.log('Invoked immediately')\n    // }\n\n    bookmarkPost() {\n        const postData = {\n            \"post_id\": this.props.postId\n        }\n        fetch(`/api/bookmarks/`, {\n            method: \"POST\",\n            headers: getHeaders(),\n            body: JSON.stringify(postData)\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            this.props.requeryPost()\n        });\n    }\n\n    unBookmarkPost() {\n        const deleteURL = `/api/bookmarks/${this.props.bookmarkId}`\n\n        fetch(deleteURL, {\n            method: \"DELETE\",\n            headers: getHeaders()\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            this.props.requeryPost()\n        });\n    }\n\n    toggleBookmark() {\n        console.log('button-clicked')\n\n        if (this.props.bookmarkId) {\n            // issue post request\n            this.unBookmarkPost()\n        } else {\n            // issue delete request\n            this.bookmarkPost()\n        }\n    }\n\n    render () {\n        const bookmarkId = this.props.bookmarkId\n        return (\n        <button\n            onClick={this.toggleBookmark}\n            aria-checked={bookmarkId ? true : false}\n            role=\"switch\"\n            label=\"Bookmark\"\n            className='bookmark'>\n            <i className={bookmarkId ? 'fas fa-bookmark' : 'far fa-bookmark'}></i>\n        </button>\n        )\n    }\n}\n\nexport default Bookmark"]},"metadata":{},"sourceType":"module"}