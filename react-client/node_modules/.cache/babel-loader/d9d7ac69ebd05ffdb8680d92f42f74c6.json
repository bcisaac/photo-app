{"ast":null,"code":"import _classCallCheck from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{getHeaders}from'../utils.js';import{jsx as _jsx}from\"react/jsx-runtime\";var Like=/*#__PURE__*/function(_React$Component){_inherits(Like,_React$Component);var _super=_createSuper(Like);function Like(props){var _this;_classCallCheck(this,Like);_this=_super.call(this,props);_this.toggleLike=_this.toggleLike.bind(_assertThisInitialized(_this));_this.likePost=_this.likePost.bind(_assertThisInitialized(_this));_this.unLikePost=_this.unLikePost.bind(_assertThisInitialized(_this));return _this;}// componentDidMount() {\n//   console.log('Invoked immediately')\n// }\n_createClass(Like,[{key:\"likePost\",value:function likePost(){var _this2=this;fetch(\"/api/posts/\".concat(this.props.postId,\"/likes/\"),{method:\"POST\",headers:getHeaders()}).then(function(response){return response.json();}).then(function(data){console.log(data);_this2.props.requeryPost();});}},{key:\"unLikePost\",value:function unLikePost(){var _this3=this;var deleteURL=\"/api/posts/\".concat(this.props.postId,\"/likes/\").concat(this.props.likeId);fetch(deleteURL,{method:\"DELETE\",headers:getHeaders()}).then(function(response){return response.json();}).then(function(data){console.log(data);_this3.props.requeryPost();});}},{key:\"toggleLike\",value:function toggleLike(likeId){console.log('button-clicked');if(likeId){// issue post request\nthis.unLikePost();}else{// issue delete request\nthis.likePost();}}},{key:\"render\",value:function render(){var _this4=this;var likeId=this.props.likeId;return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this4.toggleLike(likeId);},checked:likeId?true:false,role:\"switch\",\"aria-checked\":likeId?true:false,label:\"Like\",className:\"like\",children:/*#__PURE__*/_jsx(\"i\",{className:likeId?'fas fa-heart':'far fa-heart'})});}}]);return Like;}(React.Component);export default Like;","map":{"version":3,"sources":["/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/src/components/Like.js"],"names":["React","getHeaders","Like","props","toggleLike","bind","likePost","unLikePost","fetch","postId","method","headers","then","response","json","data","console","log","requeryPost","deleteURL","likeId","Component"],"mappings":"0tBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,aAAzB,C,8CAEMC,CAAAA,I,wGACF,cAAYC,KAAZ,CAAkB,sCACd,uBAAMA,KAAN,EACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CACA,MAAKE,UAAL,CAAkB,MAAKA,UAAL,CAAgBF,IAAhB,+BAAlB,CAJc,aAKjB,CAED;AACA;AACA;yCAEA,mBAAW,iBACPG,KAAK,sBAAe,KAAKL,KAAL,CAAWM,MAA1B,YAA2C,CAC5CC,MAAM,CAAE,MADoC,CAE5CC,OAAO,CAAEV,UAAU,EAFyB,CAA3C,CAAL,CAICW,IAJD,CAIM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAJd,EAKCF,IALD,CAKM,SAAAG,IAAI,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAACZ,KAAL,CAAWe,WAAX,GACH,CARD,EASH,C,0BAED,qBAAa,iBACT,GAAMC,CAAAA,SAAS,sBAAiB,KAAKhB,KAAL,CAAWM,MAA5B,mBAA4C,KAAKN,KAAL,CAAWiB,MAAvD,CAAf,CAEAZ,KAAK,CAACW,SAAD,CAAY,CACbT,MAAM,CAAE,QADK,CAEbC,OAAO,CAAEV,UAAU,EAFN,CAAZ,CAAL,CAICW,IAJD,CAIM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAJd,EAKCF,IALD,CAKM,SAAAG,IAAI,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAACZ,KAAL,CAAWe,WAAX,GACH,CARD,EASH,C,0BAED,oBAAWE,MAAX,CAAmB,CACfJ,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAEA,GAAIG,MAAJ,CAAY,CACR;AACA,KAAKb,UAAL,GACH,CAHD,IAGO,CACH;AACA,KAAKD,QAAL,GACH,CACJ,C,sBAED,iBAAU,iBACN,GAAMc,CAAAA,MAAM,CAAG,KAAKjB,KAAL,CAAWiB,MAA1B,CACA,mBACA,eACI,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAChB,UAAL,CAAgBgB,MAAhB,CAAN,EADb,CAEI,OAAO,CAAEA,MAAM,CAAG,IAAH,CAAU,KAF7B,CAGI,IAAI,CAAC,QAHT,CAII,eAAcA,MAAM,CAAG,IAAH,CAAU,KAJlC,CAKI,KAAK,CAAC,MALV,CAMI,SAAS,CAAC,MANd,uBAOI,UAAG,SAAS,CAAEA,MAAM,CAAG,cAAH,CAAoB,cAAxC,EAPJ,EADA,CAWH,C,kBA/DcpB,KAAK,CAACqB,S,EAkEzB,cAAenB,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport {getHeaders} from '../utils.js'\n\nclass Like extends React.Component { \n    constructor(props){\n        super(props)\n        this.toggleLike = this.toggleLike.bind(this)\n        this.likePost = this.likePost.bind(this)\n        this.unLikePost = this.unLikePost.bind(this)\n    }\n    \n    // componentDidMount() {\n    //   console.log('Invoked immediately')\n    // }\n\n    likePost() {\n        fetch(`/api/posts/${this.props.postId}/likes/`, {\n            method: \"POST\",\n            headers: getHeaders()\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            this.props.requeryPost()\n        });\n    }\n\n    unLikePost() {\n        const deleteURL = `/api/posts/${this.props.postId}/likes/${this.props.likeId}`\n\n        fetch(deleteURL, {\n            method: \"DELETE\",\n            headers: getHeaders()\n        })\n        .then(response => response.json())\n        .then(data => {\n            console.log(data);\n            this.props.requeryPost()\n        });\n    }\n\n    toggleLike(likeId) {\n        console.log('button-clicked')\n\n        if (likeId) {\n            // issue post request\n            this.unLikePost()\n        } else {\n            // issue delete request\n            this.likePost()\n        }\n    }\n\n    render () {\n        const likeId = this.props.likeId\n        return (\n        <button\n            onClick={() => this.toggleLike(likeId)}\n            checked={likeId ? true : false}\n            role=\"switch\"\n            aria-checked={likeId ? true : false}\n            label=\"Like\"\n            className='like'>\n            <i className={likeId ? 'fas fa-heart' : 'far fa-heart'}></i>\n        </button>\n        )\n    }\n}\n\nexport default Like"]},"metadata":{},"sourceType":"module"}