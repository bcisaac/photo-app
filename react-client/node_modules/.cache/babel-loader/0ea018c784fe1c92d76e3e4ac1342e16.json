{"ast":null,"code":"import _classCallCheck from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{getHeaders}from'./utils.js';import Post from'./components/Post.js';import{jsx as _jsx}from\"react/jsx-runtime\";var Posts=/*#__PURE__*/function(_React$Component){_inherits(Posts,_React$Component);var _super=_createSuper(Posts);function Posts(props){var _this;_classCallCheck(this,Posts);_this=_super.call(this,props);_this.state={posts:[]};_this.getPosts();return _this;}_createClass(Posts,[{key:\"getPosts\",value:function getPosts(){var _this2=this;fetch('/api/posts/',{headers:getHeaders()}).then(function(response){return response.json();}).then(function(data){_this2.setState({posts:data});// when you update the state, you trigger the \n// render()\n});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{id:\"posts\",children:this.state.posts.length>0?this.state.posts.map(function(post){return/*#__PURE__*/_jsx(Post,{model:post},post.id);}):/*#__PURE__*/_jsx(\"div\",{children:\"Need new token\"})});}}]);return Posts;}(React.Component);export default Posts;","map":{"version":3,"sources":["/Users/isaacconner/Dev/Class/CS396/hw/photo-app/react-client/src/Posts.js"],"names":["React","getHeaders","Post","Posts","props","state","posts","getPosts","fetch","headers","then","response","json","data","setState","length","map","post","id","Component"],"mappings":"wjBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,YAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,C,8CAEMC,CAAAA,K,0GACF,eAAYC,KAAZ,CAAkB,uCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,KAAK,CAAE,EADE,CAAb,CAGA,MAAKC,QAAL,GALc,aAMjB,C,0CAED,mBAAW,iBACPC,KAAK,CAAC,aAAD,CAAgB,CACjBC,OAAO,CAAER,UAAU,EADF,CAAhB,CAAL,CAEGS,IAFH,CAEQ,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAFhB,EAGCF,IAHD,CAGM,SAAAG,IAAI,CAAI,CACV,MAAI,CAACC,QAAL,CAAc,CACVR,KAAK,CAAEO,IADG,CAAd,EAGA;AACA;AACH,CATD,EAUH,C,sBAED,iBAAU,CAEN,mBACI,YAAK,EAAE,CAAC,OAAR,UACK,KAAKR,KAAL,CAAWC,KAAX,CAAiBS,MAAjB,CAAyB,CAAzB,CACD,KAAKV,KAAL,CAAWC,KAAX,CAAiBU,GAAjB,CAAqB,SAAAC,IAAI,CAAI,CACzB,mBAAO,KAAC,IAAD,EAAoB,KAAK,CAAEA,IAA3B,EAAWA,IAAI,CAACC,EAAhB,CAAP,CACH,CAFD,CADC,cAGI,uCAJT,EADJ,CAQH,C,mBAhCelB,KAAK,CAACmB,S,EAmC1B,cAAehB,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport {getHeaders} from './utils.js'\nimport Post from './components/Post.js'\n\nclass Posts extends React.Component { \n    constructor(props){\n        super(props)\n        this.state = {\n            posts: []\n        }\n        this.getPosts()\n    }\n\n    getPosts() {\n        fetch('/api/posts/', {\n            headers: getHeaders()\n        }).then(response => response.json())\n        .then(data => {\n            this.setState({\n                posts: data\n            });\n            // when you update the state, you trigger the \n            // render()\n        })\n    }\n\n    render () {\n        \n        return (\n            <div id=\"posts\">\n                {this.state.posts.length >0 ? \n                this.state.posts.map(post => {\n                    return <Post key={post.id} model={post} />\n                }) : <div>Need new token</div>}\n            </div>\n        )\n    }\n}\n\nexport default Posts"]},"metadata":{},"sourceType":"module"}